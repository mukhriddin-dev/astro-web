---
import ProductCard from "../../components/UI/product-card.astro";
import CardWrapper from "../../layout/CardWrapper.astro";
import MainLayout from "../../layout/MainLayout.astro";

const response = await fetch("https://fakestoreapi.com/products");
const result: productItem[] = await response.json();

interface rating {
  rate: number;
  count: number;
}

interface productItem {
  id: number | string;
  title: string;
  price: number;
  description: string;
  category: string;
  image: string;
  rating?: rating;
}
---

<MainLayout title="Products" id="products">
  <h1 class="text-2xl">Products</h1>

  <CardWrapper>
    {
      result?.map((item: productItem) => {
        return <ProductCard data={item} />;
      })
    }
  </CardWrapper>
</MainLayout>
